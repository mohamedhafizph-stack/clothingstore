<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wearify | Create Account</title>
  <link rel="stylesheet" href="/css/userSignup.css">
  <link rel="stylesheet" href="https://unpkg.com/@phosphor-icons/web@2.1.1/src/regular/style.css">
</head>
<body class="auth-page">

<header class="auth-header">
  <div class="logo"><strong>Wearify</strong></div>
  <nav class="auth-nav">
    <a href="/">Home</a>
    <a href="/shop">Shop</a>
  </nav>
</header>

<main class="auth-container">
  <div class="auth-card">
    <h1>Create your Wearify account</h1>

    <form action="/signup" method="POST" class="auth-form">

      <div class="form-group">
        <label for="fullName">Full Name</label>
        <input type="text" id="name" name="name" placeholder="Enter your full name" novalidate>
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input type="text" id="email" name="email" placeholder="Enter your email" novalidate>
      </div>

      

      <div class="form-group">
  <label for="password">Password</label>
  <div class="password-wrapper">
    <input type="password" id="password" name="password" placeholder="Enter your password" novalidate>
    <i class="ph ph-eye toggle-icon" id="togglePassword"></i>
  </div>
</div>

<div class="form-group">
  <label for="confirmPassword">Confirm Password</label>
  <div class="password-wrapper">
    <input type="password" id="confirmPassword" name="confirmPassword" placeholder="Confirm password" novalidate>
    <i class="ph ph-eye toggle-icon" id="toggleConfirmPassword"></i>
  </div>
</div>

<div class="form-group">
  <label for="referralCode">Referral Code (Optional)</label>
  <div class="password-wrapper">
    <input type="text" id="referralCode" name="referralCode" placeholder="Enter code for â‚¹50 bonus">
    <i class="ph ph-gift" style="position: absolute; right: 15px; top: 50%; transform: translateY(-50%); color: #666;"></i>
  </div>
</div>

      <button type="submit" class="btn-primary">SEND OTP</button>
    </form>

    <div class="auth-footer">
      <p>Already have an account? <a href="/login">Login</a></p>
    </div>
  </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<% if (message) { %>
<script>
  Swal.fire({
    icon: 'error',
    title: 'Registration Error',
    text: '<%= message %>'
  });
</script>
<% } %>
<script>
  // Function to handle toggle logic
function setupPasswordToggle(toggleId, inputId) {
    const toggle = document.querySelector(toggleId);
    const input = document.querySelector(inputId);

    toggle.addEventListener('click', () => {
        const type = input.getAttribute('type') === 'password' ? 'text' : 'password';
        input.setAttribute('type', type);
        
        // Toggle icon classes
        toggle.classList.toggle('ph-eye');
        toggle.classList.toggle('ph-eye-slash');
    });
}

// Initialize for both fields
setupPasswordToggle('#togglePassword', '#password');
setupPasswordToggle('#toggleConfirmPassword', '#confirmPassword');
</script>

</body>
</html>
